angular.module("myApp", ['checklist-model', 'ngRoute', 'ngDialog', 'ngService', 'cCatalogos','filtros','directivas','ngResource','mContactanos'])

    .config(function ($routeProvider) {
        $routeProvider
            .when('/', {
                templateUrl: 'view/home.html',
            })
            .when('/equipos/:tipo?/:filtro?/:descripcion?', {
                templateUrl: 'view/equipos.html',
                controller: 'ctrlEquipos'
            })
            .when('/refacciones', {
                templateUrl: 'view/refacciones.html',
                controller: 'ctrlRefacciones'
            })            
            .when('/contacto/:asunto?/:name?/:marca?/:modelo?', {
                templateUrl: 'view/contacto.html',
                controller: 'ctrlContactanos'
            })
            .when('/proyectos', {
                templateUrl: 'view/proyectos.html',
                controller: ''
            })
            .when('/proyectos/remolque-autonomo', {
                templateUrl: 'view/proyectos-generico.html',
                controller: ''
            })
            .otherwise({
                redirectTo: '/'
            });
    })


    .controller('ctrlMenu', ['$scope',function ($scope) {
        $scope.objMenu = {
            menuSeleccionado: 'home',
            classfooter :'normal-footer',
            ItemSeleccionado : function(idMenu){
                console.log(idMenu);
                if(idMenu == 'home'){
                    $scope.objMenu.menuSeleccionado = 'home';
                    this.CambiarFooter('normal-footer');
                }
                if(idMenu == 'equipos'){
                    $scope.objMenu.menuSeleccionado = 'equipos';
                }
                if(idMenu == 'suministro'){
                    $scope.objMenu.menuSeleccionado = 'suministro';
                }
                if(idMenu == 'refacciones'){
                    $scope.objMenu.menuSeleccionado = 'refacciones';
                }
                if(idMenu == 'quienes&somos'){
                    $scope.objMenu.menuSeleccionado = 'quienes&somos';
                }
                if(idMenu == 'contacto'){
                    $scope.objMenu.menuSeleccionado = 'contacto';
                }
            },
            CambiarFooter:function(tipo){
                $scope.objMenu.classfooter = tipo;
            }
        };
    }])

    .controller('ctrlEquipos', ['$scope', 'Modal', 'cEquipos', '$routeParams', '$location', function ($scope, Modal, cEquipos, $routeParams, $location) {
        $scope.objMenu.ItemSeleccionado('equipos');
        $scope.catEquipos = cEquipos.tiposEquipos;
        $scope.objIteracion = {
            namaCategoria:"Todos",
            idCatEquipos: 100,
            idFiltroEquipo :1,
            catEquipos: cEquipos.tiposEquipos,
            arrFiltrado: [],
            gridList: 'gallery',
            arrFiltrosCategoria: [],
            selected: {filtros: []},
            categoriaSeleccionada : 100,
            cargarArray: function (categoria) {
                this.categoriaSeleccionada = categoria.id;
                this.namaCategoria = categoria.name;
                var idEquipo = categoria.id;
                this.paginacion.paginaActual = 0;
                if (idEquipo == 100) {
                    this.arrFiltrado = this.Todos();
                    this.arrFiltrosCategoria = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                } else if (idEquipo == 1) {
                    this.arrFiltrado = this.Hidrolavadoras();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(1);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);

                }
                else if (idEquipo == 2) {
                    this.arrFiltrado = this.Motobombas();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(2);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
                else if (idEquipo == 3) {
                    this.arrFiltrado = this.Aspiradoras();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(3);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
                else if (idEquipo == 4) {
                    this.arrFiltrado = this.Espumadores();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(4);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
                else if (idEquipo == 5) {
                    this.arrFiltrado = this.Generadores();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(5);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
                else if (idEquipo == 6) {
                    this.arrFiltrado = this.TorresIluminacion();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(6);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
                else if (idEquipo == 7) {
                    this.arrFiltrado = this.Podadoras();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(7);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
                else if (idEquipo == 8) {
                    this.arrFiltrado = this.Desbrosadoras();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(8);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
                else if (idEquipo == 9) {
                    this.arrFiltrado = this.Desazolvadora();
                    this.arrFiltrosCategoria = this.GetFiltrosCategorias(9);
                    this.selected.filtros = [];
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                }
            },
            GetFiltrosCategorias: function (posicion) {
                return this.catEquipos[posicion].filtros;
            },
            Todos: function () {
                var arrayTodos = [];
                arrayTodos = arrayTodos.concat(cEquipos.hidrolavadoras);
                arrayTodos = arrayTodos.concat(cEquipos.motobombas);
                arrayTodos = arrayTodos.concat(cEquipos.aspiradoras);
                arrayTodos = arrayTodos.concat(cEquipos.espumadores);
                arrayTodos = arrayTodos.concat(cEquipos.generadores);
                arrayTodos = arrayTodos.concat(cEquipos.desazolvadora);
                return arrayTodos;
            },
            Hidrolavadoras: function () {
                return cEquipos.hidrolavadoras;
            },
            Motobombas: function () {
                 return cEquipos.motobombas;
            },
            Aspiradoras: function () {
                return cEquipos.aspiradoras;
            },
            Espumadores: function () {
                return cEquipos.espumadores;
            },
            Generadores: function () {
                return cEquipos.generadores;
            },
            TorresIluminacion : function(){
                return cEquipos.torresIluminacion;
            },
            Podadoras: function(){
                return cEquipos.podadoras;
            },
            Desbrosadoras:function(){
                return cEquipos.desbrosadoras;
            },
            Desazolvadora: function () {
                return cEquipos.desazolvadora;
            },
            Iniciar: function () {
                    var tipo = $routeParams.tipo;
                    var tipoFiltro = $routeParams.filtro;
                    var descripcion = $routeParams.descripcion;

                    this.categoriaSeleccionada = tipo;
                    if(tipo == 1){
                        if(tipoFiltro == 100){
                            this.cargarArray({id:1, name: "Hidrolavadoras"});
                        }else{
                           this.FiltrarHidrolavadoras({tipo:tipo, idTipo:tipoFiltro,name:descripcion}); 
                       }
                    }else{
                        this.arrFiltrado = this.Todos();
                        this.paginacion.ConstruirPaginado(this.arrFiltrado);
                        this.categoriaSeleccionada = 100;
                    }
            },
            CambiarGridList: function (tipo) {
                if (tipo == 'lista') {
                    $scope.objIteracion.gridList = 'lista';
                }
                if (tipo == 'grid') {
                    $scope.objIteracion.gridList = 'gallery';
                }
            },
            OpenModalDetalle: function (producto) {
                Modal.notificacion({info: producto, path: 'view/modal-detalle-equipo.html'});
            },
            OpenModalCotizacion: function (producto) {
                var name = producto.name,
                    marca = producto.marca,
                    modelo = producto.modelo,
                    asunto = "Cotización de Hidrolavadoras";

                console.log(producto);
                $location.path('/contacto/'+asunto+'/'+name+'/'+marca+'/'+modelo);
                //Modal.notificacion({info: producto, path: 'view/modal-cotizacion-equipo.html'});
            },
            CerrarModal: function () {
                Modal.cerrarModal();
            },
            FiltrarHidrolavadoras: function(tipo){

                $scope.objIteracion.selected.filtros = [{id:parseInt(tipo.tipo), idTipo:parseInt(tipo.idTipo),name:tipo.name}];
                var filt = "";
                if(tipo.idTipo == 1 || tipo.idTipo == 2 || tipo.idTipo == 3){
                    filt = JSLINQ(cEquipos.hidrolavadoras).
                        Where(function (item) {
                            return item.idMotor == tipo.idTipo;
                        });
                }
                if(tipo.idTipo == 4 || tipo.idTipo == 5){
                    filt = JSLINQ(cEquipos.hidrolavadoras).
                        Where(function (item) {
                            return item.idSerie == tipo.idTipo;
                        });
                }
                if(tipo.idTipo == 6 || tipo.idTipo == 7 || tipo.idTipo == 8){
                    filt = JSLINQ(cEquipos.hidrolavadoras).
                        Where(function (item) {
                            return item.idTipoAgua == tipo.idTipo;
                        });
                }
                this.arrFiltrado = filt.items;
                this.paginacion.ConstruirPaginado(this.arrFiltrado);
                this.arrFiltrosCategoria = this.GetFiltrosCategorias(1);
            },
            FiltrarEquipos: function (tipo) {
                var arrSeleccionados = $scope.objIteracion.selected.filtros;
                console.log(arrSeleccionados);
                this.arrFiltrado= [];
                if(tipo == 1){
                    if(arrSeleccionados.length == 0){
                        this.arrFiltrado = this.Hidrolavadoras();
                        this.paginacion.ConstruirPaginado(this.arrFiltrado);
                    }else{
                        var arrFiltrosEquipos= [];
                        arrSeleccionados.forEach(function (filtro) {
                            if(filtro.idTipo == 1 || filtro.idTipo == 2 || filtro.idTipo == 2){
                                var filt = JSLINQ(cEquipos.hidrolavadoras).
                                    Where(function (item) {
                                        return item.idMotor == filtro.idTipo;
                                    });
                                arrFiltrosEquipos = arrFiltrosEquipos.concat(filt.items);
                            }
                            if(filtro.idTipo == 4 || filtro.idTipo == 5){
                                var filt = JSLINQ(cEquipos.hidrolavadoras).
                                    Where(function (item) {
                                        return item.idSerie == filtro.idTipo;
                                    });
                                arrFiltrosEquipos = arrFiltrosEquipos.concat(filt.items);
                            }
                            if(filtro.idTipo == 6 || filtro.idTipo == 7 || filtro.idTipo == 8){
                                var filt = JSLINQ(cEquipos.hidrolavadoras).
                                    Where(function (item) {
                                        return item.idTipoAgua == filtro.idTipo;
                                    });
                                arrFiltrosEquipos = arrFiltrosEquipos.concat(filt.items);
                            }
                        });
                    this.arrFiltrado = arrFiltrosEquipos;
                    this.paginacion.ConstruirPaginado(this.arrFiltrado);
                    }
                }
            },
            paginacion: {
                paginasBusqueda: null,
                paginaActual: 0,
                numPaginas: null,
                paginaSiguiente: function () {
                    if ($scope.objIteracion.paginacion.paginaActual + 1 < $scope.objIteracion.paginacion.numPaginas)
                        $scope.objIteracion.paginacion.paginaActual++;
                },
                paginaAnterior: function () {
                    if ($scope.objIteracion.paginacion.paginaActual > 0)
                        $scope.objIteracion.paginacion.paginaActual--;
                },
                SeriePaginacion: function (min, max, step) {
                    step = step || 1;
                    var arr = [];
                    for (var i = min; i <= max; i += step)
                        arr.push(i);
                    return arr;
                },
                paginaSeleccionada: function (numberPagina) {
                    $scope.objIteracion.paginacion.paginaActual = numberPagina - 1;
                },
                ConstruirPaginado : function (json) {
                    var arreglo = [];
                    this.paginasBusqueda = [];
                    this.instEncontradas = json;

                    this.numPaginas = Math.round((this.instEncontradas.length - 1) / 6 - .6) + 1;

                    for (var i = 0; i < this.instEncontradas.length; i++) {
                        arreglo.push(this.instEncontradas[i]);
                        if ((i + 1) % 6 === 0 || i ===  this.instEncontradas.length - 1) {
                            this.paginasBusqueda.push(arreglo);
                            arreglo = [];
                        }
                    }
                }
            }
        };
        $scope.objIteracion.Iniciar();
    }])

    .controller('ctrlModalCotizacion', ['$scope', 'Modal', function ($scope, Modal) {
        $scope.objIteracion = {
            CerrarModal: function () {
                Modal.cerrarModal();
            }
        };
    }])

    .controller('ctrlRefacciones', ['$scope', 'Modal', 'cEquipos', '$routeParams',function ($scope, Modal, cEquipos,$routeParams) {
        $scope.objMenu.ItemSeleccionado('refacciones');
    }])

    .controller('ctrlContacto', ['$scope', function ($scope) {
            $scope.objMenu.ItemSeleccionado('contacto');
            $scope.objMenu.CambiarFooter('ajuste-footer');
            console.log("Contacto");
    }]);
angular.module('cCatalogos', [])
    .factory('cEquipos', function () {
        return {
            tiposEquipos: [
                {id: 100, name: "Todos"},
                {
                    id: 1, name: "Hidrolavadoras",
                    filtros: [
                        {id: 1, idTipo: 1, name: "Motor a gasolina"},
                        {id: 1, idTipo: 2, name: "Motor eléctrico"},
                        {id: 1, idTipo: 3, name: "Motor a diesel"},
                        {id: 1, idTipo: 4, name: "Comercial"},
                        {id: 1, idTipo: 5, name: "Industrial"},
                        {id: 1, idTipo: 6, name: "Agua fria"},
                        {id: 1, idTipo: 7, name: "Agua caliente"},
                        {id: 1, idTipo: 8, name: "Agua caliente/fria"},
                        // {id: 1, idTipo: 9, name: "Accsesorios"}
                    ]
                },
                {
                    id: 2, name: "Motobombas",
                    filtros: [
                        {id: 2, idTipo: 1, name: "Motor a gasolina"},
                        {id: 2, idTipo: 1, name: "Motor a diesel"},
                        {id: 2, idTipo: 1, name: "Comercial"},
                        {id: 2, idTipo: 1, name: "Industrial"},
                        {id: 2, idTipo: 1, name: "Accsesorios"}
                    ]
                },
                {
                    id: 3, name: "Aspiradoras",
                    filtros: [
                        {idTipo: 3, name: "Comercial"},
                        {idTipo: 2, name: "Industrial"},
                    ]
                },
                {
                    id: 4, name: "Espumadores",
                    filtros: [
                        {id: 4, idTipo: 1, name: "Comercial"},
                        {id: 4, idTipo: 2, name: "Industrial"},
                    ]
                },
                {
                    id: 5, name: "Generadores",
                    filtros: [
                        {id: 5, idTipo: 1, name: "Comercial"},
                        {id: 5, idTipo: 2, name: "Industrial"},
                    ]
                },
                {id: 6, name: "Torres de Iluminación", filtros: []},
                {id: 7, name: "Podadoras", filtros: []},
                {id: 8, name: "Desbrosadoras", filtros: []},
                {id: 9, name: "Desazolvadora", filtros: []}

            ],

            hidrolavadoras: [
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua fría",
                    descripcion: "Hidrolavadora es para uso industrial con bomba de cigüeñal y bielas, para limpieza en industrias, de automóviles, camiones, piezas metálicas, pisos, etc., donde se requiera lavado a alta presión con agua fría.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Electrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "POWERJET",
                    modelo: "F-150 Basic",
                    presion: "150 bares, (2,200 psig)",
                    potencia_de_motor: "5.5 hp, 1750 rpm",
                    peso: "48 Kg",
                    voltaje: "220 V",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: "",
                    caldera: null,
                    img: "hidrolavadoras/f-150.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua fría",
                    descripcion: "Esta hidrolavadora es para uso industrial, teniendo mucha potencia, para limpieza en industria química, metalúrgica etc., maquinaria pesada, piezas metálicas, pisos, etc., donde se requiera lavado con mucha presión con agua fría.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Electrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "POWERJET",
                    modelo: "F-250",
                    presion: "250 bares, (3,625 psig)",
                    potencia_de_motor: "10 hp, 7.5 kw",
                    peso: "115 Kg",
                    voltaje: "220 o 440 V",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: "",
                    caldera: null,
                    img: "hidrolavadoras/f-250.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua fría",
                    descripcion: "Esta hidrolavadora es para uso industrial con bomba de cigüeñal y bielas, para limpieza en industrias, de automóviles, camiones, piezas metálicas, pisos, etc., con paro total y cubierta.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Electrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "POWERJET",
                    modelo: "F-200",
                    presion: "200 bares, (3,000 psig)",
                    potencia_de_motor: "7.5 hp, 1750 rpm",
                    peso: "57 Kg",
                    voltaje: "220 o 440 V",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: "",
                    caldera: null,
                    img: "hidrolavadoras/f-200.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua caliente y fría",
                    descripcion: "Esta hidrolavadora es para uso industrial con bomba de cigüeñal y bielas, para limpieza en industrias, de automóviles, camiones, piezas metálicas, pisos, etc., con paro total y cubierta.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Electrica",
                    idTipoAgua: 8,
                    descTipoAgua: "Agua Caliente y Fría",
                    marca: "POWERJET",
                    modelo: "TK-200/19 (Paro total retardado)",
                    presion: "200 Bares, (2,900 psig)",
                    potencia_de_motor: "10 hp, 1750 rpm",
                    peso: "180 Kg",
                    voltaje: "220 o 440 V",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: "Diesel 5 kg/hr, 25 litros",
                    caldera: null,
                    img: "hidrolavadoras/tk-200-19.jpg"

                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua caliente y fría",
                    descripcion: "Esta hidrolavadora es propia para trabajo de uso rudo, con ayuda del agua caliente es óptima para remover grasa, aceite o mugre muy pegada de maquinaria, camiones, pisos, etc., en donde no cuenten con suministro eléctrico. También se puede producir vapor saturado, para aquellos lugares donde la presión puede dañar la superficie lavada.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 8,
                    descTipoAgua: "Agua Caliente y Fría",
                    marca: "POWERJET",
                    modelo: "C-200 G",
                    presion: "200 Bares, (2,900 psig)",
                    potencia_de_motor: "18 hp, 1740 rpm",
                    peso: "170 Kg",
                    voltaje: "",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: " Diesel 5 kg/hr, 25 litros",
                    caldera: "A diesel, de doble serpentín",
                    img: "hidrolavadoras/c-200.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua caliente y fría",
                    descripcion: "Esta hidrolavadora es propia para trabajo de uso rudo, con ayuda del agua caliente es óptima para remover grasa, aceite o mugre muy pegada de maquinaria, camiones, pisos, etc., en donde no cuenten con suministro eléctrico. También se puede producir vapor saturado, para aquellos lugares donde la presión puede dañar la superficie lavada.",
                    idSerie: 4,
                    descSerie: "Comercial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 8,
                    descTipoAgua: "Agua Caliente y Fría",
                    marca: "POWERJET",
                    modelo: "C-200 G",
                    presion: "200 Bares, (2,900 psig)",
                    potencia_de_motor: "18 hp, 1740 rpm",
                    peso: "170 Kg",
                    voltaje: "",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: " Diesel 5 kg/hr, 25 litros",
                    caldera: "A diesel, de doble serpentín",
                    img: "hidrolavadoras/c-200.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadoras Agua Caliente",
                    descripcion: "Esta hidrolavadora es propia para trabajo de uso rudo, utilizada en mantenimiento de ductos petroleros y fabricas de hules y plasticos",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 7,
                    descTipoAgua: "Agua Caliente",
                    marca: " Mitho Plus ",
                    modelo: "1800-M",
                    presion: "1800 lb/in2 (124 BAR)",
                    potencia_de_motor: "3400 R.P.M. 220-60-1",
                    peso: "53 Kg.",
                    voltaje: "",
                    conexion: "",
                    uso: "Industrial",
                    consumo: "",
                    caldera: "",
                    img: "hidrolavadoras/mithoplus-1800-m.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadoras Agua Caliente",
                    descripcion: "Este equipo está diseñado para uso continuo, acelera el tiempo de limpieza especialmente cuando las superficies están llenas de grasas, aceites, solventes, etc. Por su bajo mantenimiento y extrema confiabilidad, la Golden es un excelente equipo para trabajos de limpieza industrial.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 7,
                    descTipoAgua: "Agua Caliente",
                    marca: "Golden Plus",
                    modelo: "2960-T",
                    presion: "2960 lb/in2 (200 BAR)",
                    potencia_de_motor: "7.5 HP, 1750 RPM 220-60-3",
                    peso: "160 Kg.",
                    voltaje: "",
                    conexion: "",
                    uso: "Industrial",
                    consumo: "",
                    caldera: "",

                    img: "hidrolavadoras/GoldenPlus2960-T.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadoras Agua Caliente",
                    descripcion: "Este modelo por su gran versatilidad y sus controles totalmente automatizados le permite aprovecharlo en un 100 por ciento, es de gran utilidad para cualquier industria en donde sus necesidades de limpieza requieran jornadas de arduo trabajo y de uso continuo, es ideal para quitar de cualquier superficie grasa, aceite,",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 7,
                    descTipoAgua: "Agua Caliente",
                    marca: " Mistral DS",
                    modelo: "2960 T",
                    presion: "2960 lb/in2 (200 BAR) ",
                    potencia_de_motor: "7.5 HP, 1750 RPM 220-60-3",
                    peso: "180 Kg.",
                    voltaje: "",
                    conexion: "",
                    uso: "Industrial",
                    consumo: "",
                    caldera: "",

                    img: "hidrolavadoras/MistralDS2960T.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua fría",
                    descripcion: "Muy compacta y ligera, fácil de transportar y operar, ideal para trabajos de cuadrillas en alturas, o para iniciar tu negocio de lavado, cuenta con accesorios industriales como gatillo, manguera con refuerzo de acero, lanza, boquillas intercambiables, que hacen gran diferencia con el segmento doméstico.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H6G3000",
                    presion: "2.6GPM 3000PSI MAX",
                    potencia_de_motor: "6HP HONDA",
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H6G3000.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua fría",
                    descripcion: "Motor Gasolina Honda GC190, Bomba Industrial Italiana General Pump 2700psi. Muy compacta y ligera, fácil de transportar y operar, ideal para trabajos de cuadrillas en alturas, o para iniciar tu negocio de lavado, cuenta con accesorios industriales como gatillo, manguera con refuerzo de acero, lanza, boquillas intercambiables, que hacen gran diferencia con el segmento doméstico.",
                    idSerie: 4,
                    descSerie: "Comercial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H6G2700",
                    presion: "2.6GPM 2700PSI MAX",
                    potencia_de_motor: "6HP HONDA",
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H6G2700.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora industrial de alta presión en agua fría",
                    descripcion: "Motor a Gasolina Honda GX390, Bomba italiana General Pump triplex con sistema biela-cigüeñal, Bypass externo resorte negro, montada sobre resistente chasis de acero con pintura horneada, y llantas rellenas de poliuretano Flat-Free que nunca se poncharan. Todos sus accesorios son de uso industrial, están sobrados para su tipo, como su gatillo exclusivo easy-pull y su manguera con refuerzo de malla de acero. 100% reparable, con refacciones originales y accesorios estándar de la industria.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H13G4000",
                    presion: "4GPM 4000PSI ITALY",
                    potencia_de_motor: "13HP GX390",
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H13G4000.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora Heavy Duty Super Industrial Agua Fría",
                    descripcion: "Motor Honda GX690 24HP, Bomba italiana General Pump de pistones cerámicos triplex y biela-cigüeñal 5000psi, montada por Poleas y Bandas sobre resistente chasis de acero con pintura horneada, y 4 llantas neumaticas. Ideal para uso Industrial o Preparacion de Superficies. Accesorios Industriales, gatillo, manguera con refuerzo de malla de acero, regulador de presión, boquillas. 100% reparable, con refacciones originales y accesorios estándar de la industria.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "HD24G5000P",
                    presion: "4.5GPM 5000PSI MAX. GP ITALY",
                    potencia_de_motor: "24HP GX690 ARRANQUE ELECTRICO",
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/HD24G5000P.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora Heavy Duty Super Industrial Agua Fría",
                    descripcion: "Motor Honda GX690 24HP, Bomba italiana General Pump de pistones cerámicos triplex y biela-cigüeñal 7000psi, montada por Poleas y Bandas sobre resistente chasis de acero con pintura horneada, y 4 llantas neumaticas. Ideal para uso Industrial o Preparacion de Superficies. Accesorios Industriales, gatillo, manguera con refuerzo de malla de acero, regulador de presión, boquillas. 100% reparable, con refacciones originales y accesorios estándar de la industria.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "HD24G7000P",
                    presion: "3.6GPM 7000PSI MAX. GP ITALY",
                    potencia_de_motor: "24HP GX690 ARRANQUE ELECTRICO",
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/HD24H7000P.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora Industrial Agua Fría",
                    descripcion: "Ideal para uso industrial o carwash. todos sus accesorios estan excedidos, como su gatillo exclusivo y su manguera con refuerzo de malla de acero, asi como su regulador de presion bypass de resorte azul. la ventaja del motor bifasico es que puede operar mayor tiempo sin calentamiento, y proporcionara mayor presion constante que uno monofasico. 100% reparable, con refacciones originales y accesorios estandar de la industria.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H5EB2500",
                    presion: "3GPM 2500PSI ITALY",
                    potencia_de_motor: "WEG 5HP 1F 60HZ",
                    peso: null,
                    voltaje: " 220V ",
                    conexion: "BIFASICO",
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H5EB2500.jpg"
                },
                {
                    id: 1,
                    name: "Modulo Hidrolavadora Industrial Agua Fría",
                    descripcion: "La ventaja del motor trifasico es que puede operar continuamente, y proporcionara mayor presion constante, con menor consumo electrico. 100% reparable, con refacciones originales y accesorios estandar de la industria.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "MB5ET2500",
                    presion: "4GPM 2500PSI ITALY",
                    potencia_de_motor: "5HP",
                    peso: null,
                    voltaje: " 220V",
                    conexion: "TRIFASICO",
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/MB5ET2500.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora Industrial Agua Fría",
                    descripcion: "Bomba italiana general pump de pistones ceramicos triplex y biela-cigüeñal, ideal para industria, carwash o flotillas. todos sus accesorios estan excedidos, como su gatillo exclusivo easy-pull y su manguera con refuerzo de malla de acero, asi como su regulador de presion de resorte azul. la ventaja del motor trifasico es que puede operar continuamente, y proporcionara mayor presion constante, con menor consumo eléctrico.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H5ET2500",
                    presion: "4GPM 2500PSI ITALY",
                    potencia_de_motor: "WEG 5HP",
                    peso: null,
                    voltaje: " 220V 60HZ",
                    conexion: "TRIFASICO",
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H5ET2500.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora Industrial Agua Fría",
                    descripcion: "Bomba italiana general pump de pistones ceramicos triplex y biela-cigüeñal, montada sobre resistente chasis de acero con pintura horneada, y llantas rellenas de poliuretano flat-free. Todos sus accesorios estan excedidos, como su gatillo exclusivo easy-pull y su manguera con refuerzo de malla de acero, asi como su regulador de presion de resorte azul. la ventaja del motor trifasico es que puede operar continuamente, y  proporcionara mayor presion constante," +
                    " con menor consumo eléctrico.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H3ET2000",
                    presion: "4GPM 2000PSI ITALY",
                    potencia_de_motor: "3HP",
                    peso: null,
                    voltaje: " 220V 60HZ",
                    conexion: "TRIFASICO",
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H3ET2000.jpg"
                },
                {
                    id: 1,
                    name: "Hidrolavadora Industrial Agua Fría",
                    descripcion: "Bomba italiana general pump de pistones ceramicos triplex con sistema biela-cigüeñal, montada sobre resistente chasis de acero con pintura horneada, y llantas rellenas de poliuretano flat-free. ideal para uso comercial o carwash mediano. todos sus accesorios estan excedidos para su tipo, como su gatillo exclusivo easypull y su manguera con refuerzo de malla de acero, asi como su regulador bypass de resorte azul.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H3EB1500A",
                    presion: "2.5GPM 1500PSI",
                    potencia_de_motor: "3HP 1F",
                    peso: null,
                    voltaje: " 220V 60HZ",
                    conexion: "BIFASICO",
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H3EB1500A.jpg"
                },{
                    id: 1,
                    name: "Hidrolavadora Uso Rudo Industrial Agua Fría",
                    descripcion: "Cuentacon motor weg con carcasa de hierro fundido, con las mas altas especificaciones de la industria y en bajas revoluciones lo que brindara a la bomba el doble de durabilidad; bomba italiana general pump de pistones ceramicos triplex y biela-cigüeñal, montada sobre resistente chasis de acero con pintura horneada, ideal para industria o lavado de maquinaria o equipo de transporte pesado, limpieza profunda o preparacion de superficies.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H7.5ET3000",
                    presion: "4GPM 3000 PSI ITALY",
                    potencia_de_motor: "WEG 7.5HP",
                    peso: null,
                    voltaje: " 220V 60HZ",
                    conexion: "TRIFASICO",
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H7.5ET3000.jpg"
                },{
                    id: 1,
                    name: "Hidrolavadora Uso Rudo Industrial Agua Fría",
                    descripcion: "bomba italiana general pump de pistones ceramicos triplex y biela-cigüeñal y cabezal niquelado para mayor resistencia a las sales del agua, montada sobre resistente chasis de acero con pintura horneada. ideal para industria pesada o lavado de maquinaria o equipo de transporte pesado, limpieza profunda o preparacion de superficies. todos sus accesorios estan excedidos, como su gatillo exclusivo easy-pull y su manguera con refuerzo de malla de acero.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Eléctrica",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H10ET3055",
                    presion: "5.5GPM 3000PSI NIQUELADA",
                    potencia_de_motor: "10HP 1750RPM",
                    peso: null,
                    voltaje: " 220V 3F",
                    conexion: "TRIFASICO",
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H10ET3055.jpg"
                }


//H10ET3055
            ],
            desazolvadora:[
                 {
                    id: 10,
                    name: "Desazolvadora-Hidrolavadora Portatil Agua Fría",
                    descripcion: "Motor a Gasolina Honda GX390, Bomba italiana General Pump triplex con sistema biela-cigüeñal 3500psi, Bypass externo resorte negro, montada sobre resistente chasis de acero con pintura horneada, y llantas rellenas de poliuretano Flat-Free que nunca se poncharan. Ideal para lavado industrial y desazolve de tuberías de 2” a 6” de Diametro. Todos sus accesorios son de uso industrial, Incluye valvula de pulsaciones, valvula de pie, carrete y manguera flexible para desazolve, asi como tobera de penetracion.",
                    idSerie: 5,
                    descSerie: "Industrial",
                    idMotor: 1,
                    descMotor: "Gasolina",
                    idTipoAgua: 6,
                    descTipoAgua: "Agua Fría",
                    marca: "HIDROREY",
                    modelo: "H13G3500JET",
                    presion: "4GPM 4000PSI ITALY",
                    potencia_de_motor: "13HP GX390",
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "hidrolavadoras/H13GJET.jpg"
                }
            ],
            motobombas: [
                {
                    id: 2,
                    name: "Motobombas WMP20X",
                    descripcion: "Motobomba para agua salada y líquidos especiales utilizados en agricultura e industria, gracias a su carcasa de termoplástico reforzado.",
                    idSerie: 1,
                    descSerie: "Industrial",
                    idMotor: null,
                    descMotor: null,
                    idTipoAgua: null,
                    descTipoAgua: null,
                    marca: "HONDA",
                    modelo: "19006001",
                    presion: null,
                    potencia_de_motor: null,
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "motobombas/wmp-20-x.jpg"
                },
                {
                    id: 2,
                    name: "Motobomba WB20-XM",
                    descripcion: "Esta hidrolavadora es propia para trabajo de uso rudo, con ayuda del agua caliente es óptima para remover grasa, aceite o mugre muy pegada de maquinaria, camiones, pisos, etc., en donde no cuenten con suministro eléctrico. También se puede producir vapor saturado, para aquellos lugares donde la presión puede dañar la superficie lavada.",
                    idSerie: 1,
                    descSerie: "Industrial",
                    idMotor: null,
                    descMotor: null,
                    idTipoAgua: null,
                    descTipoAgua: null,
                    marca: "HONDA",
                    modelo: "GX 160H1",
                    presion: null,
                    potencia_de_motor: null,
                    peso: null,
                    voltaje: null,
                    conexion: null,
                    uso: "Industrial",
                    consumo: null,
                    caldera: null,
                    img: "motobombas/MB20X.jpg"
                }
            ],
            aspiradoras: [
                {
                    id: 3,
                    name: "Aspiradora Industrial",
                    descripcion: "Esta hidrolavadora es para uso industrial con bomba de cigüeñal y bielas, para limpieza en industrias, de automóviles, camiones, piezas metálicas, pisos, etc., con paro total y cubierta.",
                    idSerie: 1,
                    descSerie: "Industrial",
                    idMotor: 1,
                    descMotor: "2 de 1,200 watts c/u, 120 ó 220 V.",
                    idTipoAgua: null,
                    descTipoAgua: null,
                    marca: "POWERJET",
                    modelo: "Base 429 con expulsión",
                    presion: null,
                    potencia_de_motor: "3.2 hp (26 hp peak)",
                    peso: "22Kg",
                    voltaje: "120 ó 220 V",
                    conexion: null,
                    uso: "Industrial",
                    consumo: "2 de 1,200 watts c/u, 120 ó 220 V.",
                    caldera: null,
                    img: "aspiradoras/base-429.jpg"

                }
            ],
            espumadores: [
                {
                    id: 4,
                    name: "Espumador Industrial",
                    descripcion: "Esta hidrolavadora es propia para trabajo de uso rudo, con ayuda del agua caliente es óptima para remover grasa, aceite o mugre muy pegada de maquinaria, camiones, pisos, etc., en donde no cuenten con suministro eléctrico. También se puede producir vapor saturado, para aquellos lugares donde la presión puede dañar la superficie lavada.",
                    idSerie: 1,
                    descSerie: "Industrial",
                    idMotor: null,
                    descMotor: null,
                    idTipoAgua: 3,
                    descTipoAgua: "Agua Caliente y Fría",
                    marca: "POWERJET",
                    modelo: "C-200 G",
                    presion: "200 Bares, (2,900 psig)",
                    potencia_de_motor: "18 hp, 1740 rpm",
                    peso: "170 Kg",
                    voltaje: "",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: " Diesel 5 kg/hr, 25 litros",
                    caldera: "A diesel, de doble serpentín",
                    img: "espumadores/espumador-inoxidable-50-litros.jpg"
                }
            ],
            generadores: [
                {
                    id: 5,
                    name: "Generador",
                    descripcion: "Esta hidrolavadora es para uso industrial con bomba de cigüeñal y bielas, para limpieza en industrias, de automóviles, camiones, piezas metálicas, pisos, etc., con paro total y cubierta.",
                    idSerie: 1,
                    descSerie: "Industrial",
                    idMotor: 2,
                    descMotor: "Gasolina",
                    idTipoAgua: 3,
                    descTipoAgua: "Agua Caliente y Fría",
                    marca: "POWERJET",
                    modelo: "TK-200/19 (Paro total retardado)",
                    presion: "200 Bares, (2,900 psig)",
                    potencia_de_motor: "10 hp, 1750 rpm",
                    peso: "180 Kg",
                    voltaje: "220 o 440 V",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: "Diesel 5 kg/hr, 25 litros",
                    caldera: null,
                    img: "generadores/CALT4500B.jpg"

                },
                {
                    id: 5,
                    name: "Generador Industrial",
                    descripcion: "Esta hidrolavadora es propia para trabajo de uso rudo, con ayuda del agua caliente es óptima para remover grasa, aceite o mugre muy pegada de maquinaria, camiones, pisos, etc., en donde no cuenten con suministro eléctrico. También se puede producir vapor saturado, para aquellos lugares donde la presión puede dañar la superficie lavada.",
                    idSerie: 1,
                    descSerie: "Industrial",
                    idMotor: null,
                    descMotor: null,
                    idTipoAgua: 3,
                    descTipoAgua: null,
                    marca: "POWERJET",
                    modelo: "C-200 G",
                    presion: "200 Bares, (2,900 psig)",
                    potencia_de_motor: "18 hp, 1740 rpm",
                    peso: "170 Kg",
                    voltaje: "",
                    conexion: "Trifásica",
                    uso: "Industrial",
                    consumo: " Diesel 5 kg/hr, 25 litros",
                    caldera: "A diesel, de doble serpentín",
                    img: "generadores/generador.jpg"
                }
            ],
            torresIluminacion: [],
            podadoras: [],
            desbrosadoras: [],
            compresores: []
        }
    });
angular.module('mContactanos',[])

.controller('ctrlContactanos', ['$scope', 'ServiciosHTTP','$routeParams','Modal', function($scope, ServiciosHTTP, $routeParams, Modal){
	$scope.contactanos = {
		btnActivo: true,
		mdlContactanos : {},
		IniciarVariable : function(){
			if($routeParams.name != undefined && $routeParams.marca != undefined && $routeParams.modelo != undefined){
				Modal.notificacion({info: "", path: 'view/modal-informativo-cotizacion.html'});
				this.mdlContactanos.asunto = $routeParams.asunto;
				this.mdlContactanos.mensaje = $routeParams.name +'\n' + $routeParams.marca + ' - '+ $routeParams.modelo;
				console.log(this.mdlContactanos);
			}else{
				this.mdlContactanos.asunto = "";
				this.mdlContactanos.mensaje = "";
			}

		},
		BtnEnviarCorreo : function(){
			console.log("new");
			this.btnActivo = false;
			this.EnviarCorreo();
		},
		EnviarCorreo : function(){
			var parametros = this.mdlContactanos;

			ServiciosHTTP.post(parametros, "/api/send-correo").$promise.then(function (data) {
                    data = JSON.parse(data);
                    console.log(data);
                    if (data.codE == 0) {
                    	$scope.contactanos.btnActivo = true;
                    	console.log(data);
                    } else {
                    	$scope.contactanos.btnActivo = true;
                      console.log(data);
                    }
                },
                function (errResponse) {	
                	$scope.contactanos.btnActivo = true;
                });
		}
	};	
}]);

angular.module('directivas', [])

.directive('phoneInput', function($filter, $browser) {
    return {
        require: 'ngModel',
        link: function($scope, $element, $attrs, ngModelCtrl) {
            var listener = function() {
                var value = $element.val().replace(/[^0-9]/g, '');
                $element.val($filter('tel')(value, false));
            };

            // This runs when we update the text field
            ngModelCtrl.$parsers.push(function(viewValue) {
                return viewValue.replace(/[^0-9]/g, '').slice(0,10);
            });

            // This runs when the model gets updated on the scope directly and keeps our view in sync
            ngModelCtrl.$render = function() {
                $element.val($filter('tel')(ngModelCtrl.$viewValue, false));
            };

            $element.bind('change', listener);
            $element.bind('keydown', function(event) {
                var key = event.keyCode;
                // If the keys include the CTRL, SHIFT, ALT, or META keys, or the arrow keys, do nothing.
                // This lets us support copy and paste too
                if (key == 91 || (15 < key && key < 19) || (37 <= key && key <= 40)){
                    return;
                }
                $browser.defer(listener); // Have to do this or changes don't get picked up properly
            });

            $element.bind('paste cut', function() {
                $browser.defer(listener);
            });
        }

    };
});

    angular.module('filtros',[])

    .filter('tel', function () {
        return function (tel) {
            if (!tel) { return ''; }

            var value = tel.toString().trim().replace(/^\+/, '');

            if (value.match(/[^0-9]/)) {
                return tel;
            }

            var country, city, number;

            switch (value.length) {
                case 1:
                case 2:
                case 3:
                    city = value;
                    break;

                default:
                    city = value.slice(0, 3);
                    number = value.slice(3);
            }

            if(number){
                if(number.length>3){
                    number = number.slice(0, 3) + '-' + number.slice(3,8);
                }
                else{
                    number = number;
                }

                return ("(" + city + ") " + number).trim();
            }
            else{
                return "(" + city;
            }

        };
    })
 
angular.module('ngService',[])
 .factory('Modal', ['ngDialog', '$location', '$rootScope', function (ngDialog, $location, $rootScope) {
        return {
            notificacion: function (params) {
                $rootScope.producto = params.info;
                ngDialog.open({
                    template: params.path,
                    className: 'ngdialog-theme-plain',
                    plain: false,
                    closeByDocument: false
                });
            },
            cerrarModal: function () {
                ngDialog.close();

            },
        };
    }])

    .factory('ServiciosHTTP', ['$resource', '$http', function ($resource, $http) {
            return {
                post: function (datos, servicio) {
                     $http.defaults.headers.post['Content-Type'] = 'application/json; charset=UTF-8';
                     //
                    var urlApi = 'https://api-rest-sediap.herokuapp.com',
                            resource = $resource(urlApi + servicio),
                            resultado = resource.save({}, datos);
                    return resultado;
                }
            }
        }])